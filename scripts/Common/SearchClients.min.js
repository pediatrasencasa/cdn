function ClientVM(){var n=this;n.ApiUrl="/api/common/search/";n.minChar=3;n.loading=ko.observable(!1);n.isFocused=ko.observable(!1);n.didSearch=ko.observable(!1);n.noResults=ko.observable(!1);n.searchTerm=ko.observable("");n.selectedClient=ko.observable(null);n.resultList=ko.observableArray();n.searchClient=function(){n.resultList(null);n.selectedClient(null);n.noResults(!1);var t=n.searchTerm();t.trim().length>=n.minChar?(n.didSearch(!0),n.loading(!0),$.getJSON(n.ApiUrl+"clients?term="+t+"&v="+(new Date).getTime()).then(function(t){n.resultList(t);n.resultList().length==0&&n.noResults(!0);n.loading(!1)},function(){n.loading(!1)})):n.loading(!1)};n.selectClient=function(t){n.loading(!1);$.getJSON(n.ApiUrl+"details/"+t.documentId+"?v="+(new Date).getTime()).then(function(t){n.selectedClient(t);n.resultList(null);$("html, body").animate({scrollTop:$("#SearchTerm").offset().top||195},800)},function(){})};n.clearAll=function(){n.resultList(null);n.isFocused(!0);n.selectedClient(null);n.searchTerm("")}}ko.components.register("client-list",{viewModel:function(n){this.data=ko.observable(n.value)},template:"<a href='javascript:;' class='list-group-item'><h4 class='list-group-item-heading'><span data-bind=\"text: data().name\"><\/span> <small data-bind=\"text:'('+ data().documentId +')'\"><\/small><\/h4><\/a>"});ko.applyBindings(new ClientVM);